(function(t){function o(o){for(var n,i,a=o[0],d=o[1],c=o[2],u=0,p=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);l&&l(o);while(p.length)p.shift()();return s.push.apply(s,c||[]),e()}function e(){for(var t,o=0;o<s.length;o++){for(var e=s[o],n=!0,a=1;a<e.length;a++){var d=e[a];0!==r[d]&&(n=!1)}n&&(s.splice(o--,1),t=i(i.s=e[0]))}return t}var n={},r={app:0},s=[];function i(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=n,i.d=function(t,o,e){i.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,o){if(1&o&&(t=i(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)i.d(e,n,function(o){return t[o]}.bind(null,n));return e},i.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(o,"a",o),o},i.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},i.p="/skill-factory-moduleC4-hw/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],d=a.push.bind(a);a.push=o,a=a.slice();for(var c=0;c<a.length;c++)o(a[c]);var l=d;s.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},"034f":function(t,o,e){"use strict";var n=e("64a9"),r=e.n(n);r.a},"39a3":function(t,o,e){"use strict";var n=e("b1e7"),r=e.n(n);r.a},"56d7":function(t,o,e){"use strict";e.r(o);e("cadf"),e("551c"),e("f751"),e("097d"),e("f9e3");var n=e("5f5b"),r=e("2b0e"),s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],a=(e("034f"),e("2877")),d={},c=Object(a["a"])(d,s,i,!1,null,null,null),l=c.exports,u=e("8c4f"),p=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"container"},[e("div",{staticClass:"col-sm-10"},[e("h1",[t._v("Задачи")]),t.showConfirmation?e("confirmation",{attrs:{message:t.confirmationMessage},on:{"close-alert":t.resetAlert}}):t._e(),e("p",[t._v("Всего зада задач "+t._s(t.count_tasks)+" задач выполнено "+t._s(t.completed_tasks))]),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.todo-modal",modifiers:{"todo-modal":!0}}],staticClass:"btn btn-success btn-sm align-left d-block",attrs:{type:"button",id:"add-task"},on:{click:t.resetForm}},[t._v("\n      Добавить задачу\n    ")]),e("table",{staticClass:"table table-dark table-stripped table-hover"},[t._m(0),e("tbody",t._l(t.todos,(function(o,n){return e("tr",{key:n},[e("td",{staticClass:"todo-uid"},[t._v(t._s(o.uid))]),e("td",[t._v(t._s(o.description))]),e("td",[o.is_completed?e("span",[t._v("Выполнено")]):e("span",[t._v("Не выполнено")])]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.todo-modal",modifiers:{"todo-modal":!0}}],staticClass:"btn btn-secondary btn-sm",attrs:{type:"button"},on:{click:function(e){return t.updateTodo(o)}}},[t._v("\n             Обновить\n           ")]),t._v("\n             \n            "),e("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.deleteTodo(o)}}})])])])})),0)]),e("b-modal",{ref:"addTodoModal",attrs:{id:"todo-modal",title:t.title,"hide-footer":""}},[e("b-form",{staticClass:"w-100",on:{submit:t.onSubmit,reset:t.onReset}},[e("b-form-group",{attrs:{id:"form-description-group",label:"Описание:","label-for":"form-description-input"}},[e("b-form-input",{attrs:{id:"form-description-input",type:"text",required:"",placeholder:"Завести задачу"},model:{value:t.addTodoForm.description,callback:function(o){t.$set(t.addTodoForm,"description",o)},expression:"addTodoForm.description"}})],1),e("b-form-group",{attrs:{id:"form-complete-group"}},[e("b-form-checkbox-group",{attrs:{id:"form-checks"},model:{value:t.addTodoForm.is_completed,callback:function(o){t.$set(t.addTodoForm,"is_completed",o)},expression:"addTodoForm.is_completed"}},[e("b-form-checkbox",{attrs:{value:"true"}},[t._v("Задача выполнена?")])],1)],1),t.newTodo?e("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Добавить")]):t._e(),t.newTodo?t._e():e("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Изменить")]),e("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Сброс")])],1)],1)],1)])},m=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",[t._v("Uid")]),e("th",[t._v("Описание")]),e("th",[t._v("Выполнена?")]),e("th")])])}],f=(e("f559"),e("768b")),h=(e("ac6a"),e("ffc1"),function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("b-alert",{attrs:{variant:"success",show:""}},[t._v(t._s(t.message)+"\n    "),e("b-button",{attrs:{variant:"success"},on:{click:function(o){return t.$emit("close-alert")}}},[t._v("\n      x\n    ")])],1)],1)}),b=[],v={props:["message"]},_=v,g=Object(a["a"])(_,h,b,!1,null,null,null),T=g.exports,y="task_",w={name:"Todos",data:function(){return{todos:[],addTodoForm:{description:"",is_completed:[]},confirmationMessage:"",showConfirmation:!1,count_tasks:0,completed_tasks:0,title:"",newTodo:!0,old_description:""}},message:"",methods:{getTodos:function(){for(var t=1,o=0,e=Object.entries(localStorage);o<e.length;o++){var n=Object(f["a"])(e[o],2),r=n[0],s=n[1];r.startsWith(y)&&(this.todos.push({description:r.substr(5),is_completed:parseInt(s),uid:t}),"1"==s&&this.completed_tasks++,t++)}this.count_tasks=this.todos.length},resetForm:function(){this.addTodoForm.description="",this.addTodoForm.is_completed=[],this.title="Создать задачу",this.newTodo=!0},updateState:function(){this.todos=[],this.completed_tasks=0,this.getTodos()},onSubmit:function(t){t.preventDefault(),this.$refs.addTodoModal.hide();var o=this.addTodoForm.is_completed.length>0?"1":"0",e=y+this.addTodoForm.description;this.newTodo?(localStorage.setItem(e,o),this.confirmationMessage='Задача "'.concat(this.addTodoForm.description,'" добавлена!')):(this.old_description!=this.addTodoForm.description&&localStorage.removeItem(y+this.old_description),localStorage.setItem(e,o),this.confirmationMessage="Задача обновлена!"),this.old_description="",this.showConfirmation=!0,this.resetForm(),this.updateState()},onReset:function(t){t.preventDefault(),this.$refs.addTodoModal.hide(),this.resetForm()},updateTodo:function(t){this.old_description=t.description,this.addTodoForm.description=t.description,this.addTodoForm.uid=t.uid,this.addTodoForm.is_completed="1"==t.is_completed?[!0]:[],this.title="Изменить задачу",this.newTodo=!1},deleteTodo:function(t){localStorage.removeItem(y+t.description);var o=t.description;this.updateState(),this.confirmationMessage='Задача "'.concat(o,'" удалена!'),this.showConfirmation=!0},resetAlert:function(){this.showConfirmation=!1}},components:{confirmation:T},created:function(){this.getTodos()}},k=w,F=(e("39a3"),Object(a["a"])(k,p,m,!1,null,null,null)),C=F.exports;r["default"].use(u["a"]);var O=new u["a"]({base:"/skill-factory-moduleC4-hw/",routes:[{path:"/",name:"todos",component:C},{path:"*",name:"catchAll",component:C}]});r["default"].use(n["a"]),r["default"].config.productionTip=!1,new r["default"]({router:O,render:function(t){return t(l)}}).$mount("#app")},"64a9":function(t,o,e){},b1e7:function(t,o,e){}});
//# sourceMappingURL=app.b5ced388.js.map